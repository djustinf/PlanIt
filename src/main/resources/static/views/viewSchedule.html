<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"> </script>
    <script src="../js/controller.js"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <link href = "../../../main/View/node_modules/bootstrap/dist/css/bootstrap.css" type = "text/css" rel = "stylesheet">
    <script src="../../../main/View/node_modules/angular/angular.js"> </script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.4.0/fullcalendar.css" rel="stylesheet" type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.4.0/fullcalendar.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.4.0/fullcalendar.min.js"></script>


    <script>
        $(document).ready(function() {
            $('#calendar').fullCalendar({
                header: {
                    left: 'prev, next today',
                    center: 'title',
                    right: 'agendaWeek,agendaDay,listWeek, month, listDay, listYear'
                },
                views: {
                    listDay: { buttonText: 'list day' },
                    listWeek: { buttonText: 'list week' }
                },
                defaultView: 'agendaWeek',
                events: function (start, end, timezone, callback) {
                    $.ajax({
                        url: '"../testdata/events.json",',
                        type: "GET",
                        datatype: 'json',
                        success: function ( doc ) {
                            var events = [];
                            if ( doc != undefined && doc.length > 0 ) {
                                doc.forEach( function( entry ) {
                                    events.push({
                                        title: entry.title,
                                        start: entry.start,
                                        end:   entry.end
                                    });
                                });
                            }
                            callback(events);
                        },error: function (err) {
                            alert('Error in fetching data');
                        }
                    });
                },
                eventClick: function (calEvent, jsEvent, view) {
                    alert(calEvent.title);
                },
                dayClick: function(date, jsEvent, view, resourceObj) {
                    alert('Date: ' + date.format());
                    alert('Resource ID: ' + resourceObj.id);
                },
                eventClick: function(event, element) {
                    event.title = "CLICKED!";
                    $('#calendar').fullCalendar('updateEvent', event);
                }
            })
        });
    </script>
    <style type = "text/css">
        body {
            text-align: center;
        }
        #calendar {
            width: 900px;
            margin: 0 auto;
        }
    </style>
</head>

<body ng-app = "myApp">
<div ng-include="'navbar.html'"></div>

<div id="calendar"></div>

<button id="myBtn" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Add Event</button>
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <form id="role-form"  method="get">
                <div class="modal-body">
                    <div class="form-group col-md-12">
                        <input type="text" name="role" class="form-control" placeholder="Event Name"/>
                    </div>
                    <div class="form-group col-md-12">
                        <select id="year" name="role" class="form-control">
                            <option selected disabled>Event Time</option>
                            <option value='1'>2015</option>
                            <option value='2'>2016</option>
                            <option value='3'>2017</option>
                        </select>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </form>
        </div>
    </div>
</div>

</body>
</html>